!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.frzr={})}(this,function(t){"use strict";function e(t){return t}function n(t){return Math.pow(t,2)}function r(t){return 1-n(1-t)}function i(t){return.5>t?n(2*t)/2:1-n(2*(1-t))/2}function s(t){return Math.pow(t,3)}function o(t){return 1-s(1-t)}function u(t){return.5>t?s(2*t)/2:1-s(2*(1-t))/2}function a(t){return Math.pow(t,4)}function l(t){return 1-a(1-t)}function h(t){return.5>t?a(2*t)/2:1-a(2*(1-t))/2}function f(t){return Math.pow(t,5)}function c(t){return 1-c(1-t)}function d(t){return.5>t?f(2*t)/2:1-f(2*(1-t))/2}function p(t){var e=7.5625,n=2.75;return 1/n>t?e*t*t:2/n>t?(t-=1.5/n,e*t*t+.75):2.5/n>t?(t-=2.25/n,e*t*t+.9375):(t-=2.625/n,e*t*t+.984375)}function g(t){return 1-p(1-t)}function v(t){return.5>t?g(2*t)/2:1-g(2*(1-t))/2}function m(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function y(t){return"undefined"!=typeof t||null!==t}function C(t,e){for(var n=t.split(";"),r=0;r<n.length;r++)if(n[r].length){var i=n[r].split(":"),s=i[0].trim(),o=i[1].trim();s.length&&e(s,o)}}function w(t){if(!t||!t.length)return t;for(var e=t.length-1;e>0;e--){var n=Math.random()*e|0,r=t[e];t[e]=t[n],t[n]=r}return t}function b(t){t.extend=function(e){return function(t){function n(){M.classCallCheck(this,n);for(var r=arguments.length,i=Array(r),s=0;r>s;s++)i[s]=arguments[s];return M.possibleConstructorReturn(this,t.call.apply(t,[this,e].concat(i)))}return M.inherits(n,t),n}(t)}}function x(t){if("undefined"!=typeof j[t])return j[t];if("undefined"!=typeof I[t])return j[t]=t,t;for(var e=t[0].toUpperCase()+t.slice(1),n=0,r=R.length;r>n;n++){var i=R[n]+e;if("undefined"!=typeof I[i])return j[t]=i,i}}function O(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=document.createElement(t);for(var r in e)"text"===r?n.textContent=e[r]:"html"===r?n.innerHTML=e[r]:"style"===r?C(e.style,function(t,e){var r=x(t);n.style[r]=e}):n.setAttribute(r,e[r]);return n}function L(t){return _?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function T(t){z.push(t),F||(F=L(function(){F=!1;for(var t=z.splice(0,z.length),e=0;e<t.length;e++)t[e]()}))}function A(){var t=Date.now();if(!V.length)return void(U=!1);for(var e=0;e<V.length;e++){var n=V[e];if(!(t<n.startTime)){n.started||(n.started=!0,n.trigger("start"));var r=(t-n.startTime)/(n.endTime-n.startTime);r>1&&(r=1),n.trigger("progress",n.easing(r),r),t>n.endTime&&(n.trigger("end"),V.splice(e--,1))}}T(A)}function k(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return"undefined"==typeof J&&(J=q()),J||n?"translate3d("+t+", "+e+", "+n+")":"translate("+t+", "+e+")"}function q(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!t)return!1;var e=x("transform"),n=document.createElement("p");return document.body.appendChild(n),n.style[e]="translate3d(1px,1px,1px)",J=n.style[e],J=y(J)&&J.length&&"none"!==J?!0:!1,document.body.removeChild(n),J}var M={};M.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},M.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},M.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var E={linear:e,quadIn:n,quadOut:r,quadInOut:i,cubicIn:s,cubicOut:o,cubicInOut:u,quartIn:a,quartOut:l,quartInOut:h,quintIn:f,quintOut:c,quintInOut:d,bounceIn:g,bounceOut:p,bounceInOut:v},I=document.createElement("p").style,R=["webkit","moz","Moz","ms","o"],j={},B=function(){function t(){M.classCallCheck(this,t),this.listeners={}}return t.prototype.on=function(t,e){return"undefined"==typeof this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!1}),this},t.prototype.one=function(t,e){return this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!0}),this},t.prototype.trigger=function(t){var e=this.listeners[t];if(!e)return this;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];for(var s=0;s<e.length;s++)e[s].handler.apply(this,r),e[s].one&&e.splice(s--,1);return this},t.prototype.off=function(t,e){if("undefined"==typeof t)this.listeners={};else if("undefined"==typeof e)this.listeners[t]=[];else{var n=this.listeners[t];if(!n)return this;for(var r=0;r<n.length;r++)n[r].handler===e&&n.splice(r--,1)}return this},t}(),P="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=e,t},{}),S=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments[1];M.classCallCheck(this,e);var i=M.possibleConstructorReturn(this,t.call(this));i.el=null,i.eventListeners=[],i.listeners={};for(var s in n)P[s]?i.on(s,n[s]):"el"===s?"string"==typeof n.el?i.el=document.createElement(n.el):n.el instanceof Array?i.el=O(n.el[0],n.el[1]):i.el=n.el:i[s]=n[s];return i.trigger(P.init,r),i.el||(i.el=document.createElement("div")),i.el.view=i,i.trigger(P.inited,r),i}return M.inherits(e,t),e.prototype.setAttr=function(t,e){return!this.el[t]===e&&(this.el[t]=e),this},e.prototype.setClass=function(t,e){return this.el.classList.contains(t)!==e&&(e?this.el.classList.add(t):this.el.classList.remove(t)),this},e.prototype.setStyle=function(t,e){return this.el.style[t]!==e&&(this.el.style[t]=e),this},e.prototype.setText=function(t){return this.el.textContent!==t&&(this.el.textContent=t),this},e.prototype.setHTML=function(t){return this.el.innerHTML!==t&&(this.el.innerHTML=t),this},e.prototype.addListener=function(t,e,n){var r=this,i={name:t,handler:e,proxy:function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];e.apply(r,n)}};return this.eventListeners||(this.eventListeners=[]),this.eventListeners.push(i),this.el.addEventListener(t,i.proxy,n),this},e.prototype.removeListener=function(t,e){var n=this.eventListeners;if(!n)return this;if("undefined"==typeof t){for(var r=0;r<n.length;r++)this.el.removeEventListener(n[r].proxy);this.listeners=[]}else if("undefined"==typeof e)for(var r=0;r<n.length;r++)n[r].name===t&&n.splice(r--,1);else for(var r=0;r<n.length;r++){var i=n[r];i.name===t&&e===i.handler&&n.splice(r--,1)}return this},e.prototype.addChild=function(t){if(t.views)return t.parent=this,this.setChildren.apply(this,t.views);var e=!1;return t.parent?(e=!0,t.trigger(P.sort)):t.trigger(P.mount),this.el.appendChild(t.el),t.parent=this,e?t.trigger(P.sorted):t.trigger(P.mounted),this},e.prototype.addBefore=function(t,e){var n=!1;return t.parent?(n=!0,t.trigger(P.sort)):t.trigger(P.mount),this.el.insertBefore(t.el,e.el||e),t.parent=this,n?t.trigger(P.sorted):t.trigger(P.mounted),this},e.prototype.setChildren=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];if(e.length&&e[0].views){if(e[0].parent=this,!e[0].views.length)return this;this.setChildren.apply(this,e[0].views)}for(var r=this.el.firstChild,i=0;i<e.length;i++){var s=e[i];r!==s.el?r?this.addBefore(s,r):this.addChild(s):r=r.nextSibling}for(;r;){var o=r.nextSibling;r.view?r.view.parent.removeChild(r.view):this.el.removeChild(r),r=o}return this},e.prototype.removeChild=function(t){return t.parent?(t.trigger(P.unmount),this.el.removeChild(t.el),t.parent=null,t.trigger(P.unmounted),this):this},e.prototype.update=function(t){this.trigger(P.update,t)},e.prototype.destroy=function(){this.trigger(P.destroy),this.parent&&this.parent.removeChild(this);for(var t=this.el.firstChild;t;)t.view?t.view.destroy():this.el.removeChild(t),t=this.el.firstChild;this.off(),this.removeListener()},e}(B);b(S);var D="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=!0,t},{}),H=function(t){function e(n){M.classCallCheck(this,e);var r=M.possibleConstructorReturn(this,t.call(this));r.lookup={},r.views=[];for(var i in n)D[i]?r.on(i,n[i]):r[i]=n[i];return r}return M.inherits(e,t),e.prototype.setData=function(t){for(var e,n=this,r=new Array(t.length),i={},s=this.views,o=this.lookup,u=this.key,a=function(e){for(var a=t[e],l=u&&a[u],h=n.View||S,f=(u?o[l]:s[e])||new h,c=function(t){var e=D[t];f.on(e,function(){for(var t=arguments.length,r=Array(t),i=0;t>i;i++)r[i]=arguments[i];n.trigger(e,[f].concat(r))})},d=0;d<D.length;d++)c(d);u&&(i[l]=f),r[e]=f,f.update(a)},l=0;l<t.length;l++)a(l);if(u)for(var h in o)i[h]||o[h].destroy();else for(var l=r.length;l<s.length;l++)s[l].destroy();this.views=r,this.lookup=i,this.parent&&(e=this.parent).setChildren.apply(e,r)},e.prototype.destroy=function(){this.setData([]),this.off()},e}(B);b(H);var _="undefined"!=typeof window.requestAnimationFrame;L.cancel=function(t){_?window.cancelAnimationFrame(t):clearTimeout(t)};var z=[],F=void 0;T.cancel=function(t){for(var e=0;e<z.length;e++)z[e]===t&&z.splice(e--,1)};var V=[],U=void 0,G=function(t){function e(n){var r=n.delay,i=void 0===r?0:r,s=n.duration,o=void 0===s?0:s,u=n.easing,a=void 0===u?"quadOut":u,l=n.init,h=n.start,f=n.progress,c=n.end;M.classCallCheck(this,e);var d=M.possibleConstructorReturn(this,t.call(this)),p=Date.now();return d.startTime=p+i,d.endTime=d.startTime+o,d.easing=E[a],d.started=!1,l&&d.on("init",l),h&&d.on("start",h),f&&d.on("progress",f),c&&d.on("end",c),V.push(d),d.trigger("init"),U||(U=!0,T(A)),d}return M.inherits(e,t),e.prototype.destroy=function(){for(var t=0;t<V.length;t++)if(V[t]===this)return void V.splice(t,1)},e}(B),J=void 0;t.ease=E,t.el=O,t.prefix=x,t.View=S,t.ViewList=H,t.Animation=G,t.Observable=B,t.each=m,t.extendable=b,t.shuffle=w,t.translate=k,t.baf=T,t.raf=L});