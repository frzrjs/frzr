!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.frzr={})}(this,function(t){"use strict";function e(t){return t}function n(t){return Math.pow(t,2)}function r(t){return 1-n(1-t)}function i(t){return.5>t?n(2*t)/2:1-n(2*(1-t))/2}function o(t){return Math.pow(t,3)}function s(t){return 1-o(1-t)}function u(t){return.5>t?o(2*t)/2:1-o(2*(1-t))/2}function a(t){return Math.pow(t,4)}function l(t){return 1-a(1-t)}function f(t){return.5>t?a(2*t)/2:1-a(2*(1-t))/2}function h(t){return Math.pow(t,5)}function c(t){return 1-c(1-t)}function d(t){return.5>t?h(2*t)/2:1-h(2*(1-t))/2}function p(t){var e=7.5625,n=2.75;return 1/n>t?e*t*t:2/n>t?(t-=1.5/n,e*t*t+.75):2.5/n>t?(t-=2.25/n,e*t*t+.9375):(t-=2.625/n,e*t*t+.984375)}function g(t){return 1-p(1-t)}function v(t){return.5>t?g(2*t)/2:1-g(2*(1-t))/2}function m(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function y(t){return"undefined"!=typeof t||null!==t}function w(t,e){for(var n=t.split(";"),r=0;r<n.length;r++)if(n[r].length){var i=n[r].split(":"),o=i[0].trim(),s=i[1].trim();o.length&&e(o,s)}}function C(t){if(!t||!t.length)return t;for(var e=t.length-1;e>0;e--){var n=Math.random()*e|0,r=t[e];t[e]=t[n],t[n]=r}return t}function b(t){t.extend=function(e){return function(t){function n(r){return I.classCallCheck(this,n),I.possibleConstructorReturn(this,t.call(this,e,r))}return I.inherits(n,t),n}(t)}}function x(t){if("undefined"!=typeof P[t])return P[t];if("undefined"!=typeof j[t])return P[t]=t,t;for(var e=t[0].toUpperCase()+t.slice(1),n=0,r=B.length;r>n;n++){var i=B[n]+e;if("undefined"!=typeof j[i])return P[t]=i,i}}function L(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=document.createElement(t);for(var r in e)"text"===r?n.textContent=e[r]:"html"===r?n.innerHTML=e[r]:"style"===r?w(e.style,function(t,e){var r=x(t);n.style[r]=e}):n.setAttribute(r,e[r]);return n}function O(t,e){return new _(t,e)}function T(t){return new F(t)}function A(t){return V?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function k(t){D.push(t),U||(U=A(function(){U=!1;for(var t=D.splice(0,D.length),e=0;e<t.length;e++)t[e]()}))}function q(){var t=Date.now();if(!G.length)return void(J=!1);for(var e=0;e<G.length;e++){var n=G[e];if(!(t<n.startTime)){n.started||(n.started=!0,n.trigger("start"));var r=(t-n.startTime)/(n.endTime-n.startTime);r>1&&(r=1),n.trigger("progress",n.easing(r),r),t>n.endTime&&(n.trigger("end"),G.splice(e--,1))}}k(q)}function M(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return"undefined"==typeof N&&(N=E()),N||n?"translate3d("+t+", "+e+", "+n+")":"translate("+t+", "+e+")"}function E(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!t)return!1;var e=x("transform"),n=document.createElement("p");return document.body.appendChild(n),n.style[e]="translate3d(1px,1px,1px)",N=n.style[e],N=y(N)&&N.length&&"none"!==N?!0:!1,document.body.removeChild(n),N}var I={};I.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},I.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},I.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var R={linear:e,quadIn:n,quadOut:r,quadInOut:i,cubicIn:o,cubicOut:s,cubicInOut:u,quartIn:a,quartOut:l,quartInOut:f,quintIn:h,quintOut:c,quintInOut:d,bounceIn:g,bounceOut:p,bounceInOut:v},j=document.createElement("p").style,B=["webkit","moz","Moz","ms","o"],P={},S=function(){function t(){I.classCallCheck(this,t),this.listeners={}}return t.prototype.on=function(t,e){return"undefined"==typeof this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!1}),this},t.prototype.one=function(t,e){return this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!0}),this},t.prototype.trigger=function(t){var e=this.listeners[t];if(!e)return this;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++)e[o].handler.apply(this,r),e[o].one&&e.splice(o--,1);return this},t.prototype.off=function(t,e){if("undefined"==typeof t)this.listeners={};else if("undefined"==typeof e)this.listeners[t]=[];else{var n=this.listeners[t];if(!n)return this;for(var r=0;r<n.length;r++)n[r].handler===e&&n.splice(r--,1)}return this},t}(),H="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=e,t},{}),_=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments[1];I.classCallCheck(this,e);var i=I.possibleConstructorReturn(this,t.call(this));i.el=null,i.eventListeners=[],i.listeners={};for(var o in n)H[o]?i.on(o,n[o]):"el"===o?"string"==typeof n.el?i.el=document.createElement(n.el):n.el instanceof Array?i.el=L(n.el[0],n.el[1]):i.el=n.el:i[o]=n[o];return i.trigger(H.init,r),i.el||(i.el=document.createElement("div")),i.el.view=i,i.trigger(H.inited,r),i}return I.inherits(e,t),e.prototype.setAttr=function(t,e){return this.el[t]!==e&&(this.el[t]=e),this},e.prototype.setClass=function(t,e){return this.el.classList.contains(t)!==e&&(e?this.el.classList.add(t):this.el.classList.remove(t)),this},e.prototype.setStyle=function(t,e){return this.el.style[t]!==e&&(this.el.style[t]=e),this},e.prototype.setText=function(t){return this.el.textContent!==t&&(this.el.textContent=t),this},e.prototype.setHTML=function(t){return this.el.innerHTML!==t&&(this.el.innerHTML=t),this},e.prototype.addListener=function(t,e,n){var r=this,i={name:t,handler:e,proxy:function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];e.apply(r,n)}};return this.eventListeners||(this.eventListeners=[]),this.eventListeners.push(i),this.el.addEventListener(t,i.proxy,n),this},e.prototype.removeListener=function(t,e){var n=this.eventListeners;if(!n)return this;if("undefined"==typeof t){for(var r=0;r<n.length;r++)this.el.removeEventListener(n[r].proxy);this.listeners=[]}else if("undefined"==typeof e)for(var r=0;r<n.length;r++)n[r].name===t&&n.splice(r--,1);else for(var r=0;r<n.length;r++){var i=n[r];i.name===t&&e===i.handler&&n.splice(r--,1)}return this},e.prototype.addChild=function(t){if(t.views)return t.parent=this,this.setChildren.apply(this,t.views);var e=!1;return t.parent?(e=!0,t.trigger(H.sort)):t.trigger(H.mount),this.el.appendChild(t.el),t.parent=this,e?t.trigger(H.sorted):t.trigger(H.mounted),this},e.prototype.addBefore=function(t,e){var n=!1;return t.parent?(n=!0,t.trigger(H.sort)):t.trigger(H.mount),this.el.insertBefore(t.el,e.el||e),t.parent=this,n?t.trigger(H.sorted):t.trigger(H.mounted),this},e.prototype.setChildren=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];if(e.length&&e[0].views){if(e[0].parent=this,!e[0].views.length)return this;this.setChildren.apply(this,e[0].views)}for(var r=this.el.firstChild,i=0;i<e.length;i++){var o=e[i];r!==o.el?r?this.addBefore(o,r):this.addChild(o):r=r.nextSibling}for(;r;){var s=r.nextSibling;r.view?r.view.parent.removeChild(r.view):this.el.removeChild(r),r=s}return this},e.prototype.removeChild=function(t){return t.parent?(t.trigger(H.unmount),this.el.removeChild(t.el),t.parent=null,t.trigger(H.unmounted),this):this},e.prototype.update=function(t){this.trigger(H.update,t)},e.prototype.destroy=function(){this.trigger(H.destroy),this.parent&&this.parent.removeChild(this);for(var t=this.el.firstChild;t;)t.view?t.view.destroy():this.el.removeChild(t),t=this.el.firstChild;this.off(),this.removeListener()},e}(S);b(_),O.extend=function(t){return function(e){return new _(t,e)}};var z="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=!0,t},{}),F=function(t){function e(n){I.classCallCheck(this,e);var r=I.possibleConstructorReturn(this,t.call(this));r.lookup={},r.views=[];for(var i in n)z[i]?r.on(i,n[i]):r[i]=n[i];return r}return I.inherits(e,t),e.prototype.update=function(t){for(var e,n=this,r=new Array(t.length),i={},o=this.views,s=this.lookup,u=this.key,a=function(e){for(var a=t[e],l=u&&a[u],f=n.View||_,h=(u?s[l]:o[e])||new f,c=function(t){var e=z[t];h.on(e,function(){for(var t=arguments.length,r=Array(t),i=0;t>i;i++)r[i]=arguments[i];n.trigger(e,[h].concat(r))})},d=0;d<z.length;d++)c(d);u&&(i[l]=h),r[e]=h,h.update(a)},l=0;l<t.length;l++)a(l);if(u)for(var f in s)i[f]||s[f].destroy();else for(var l=r.length;l<o.length;l++)o[l].destroy();this.views=r,this.lookup=i,this.parent&&(e=this.parent).setChildren.apply(e,r)},e.prototype.destroy=function(){this.update([]),this.off()},e}(S);b(F),T.extend=function(t){return function(e){return new F(t,e)}};var V="undefined"!=typeof window.requestAnimationFrame;A.cancel=function(t){V?window.cancelAnimationFrame(t):clearTimeout(t)};var D=[],U=void 0;k.cancel=function(t){for(var e=0;e<D.length;e++)D[e]===t&&D.splice(e--,1)};var G=[],J=void 0,K=function(t){function e(n){var r=n.delay,i=void 0===r?0:r,o=n.duration,s=void 0===o?0:o,u=n.easing,a=void 0===u?"quadOut":u,l=n.init,f=n.start,h=n.progress,c=n.end;I.classCallCheck(this,e);var d=I.possibleConstructorReturn(this,t.call(this)),p=Date.now();return d.startTime=p+i,d.endTime=d.startTime+s,d.easing=R[a],d.started=!1,l&&d.on("init",l),f&&d.on("start",f),h&&d.on("progress",h),c&&d.on("end",c),G.push(d),d.trigger("init"),J||(J=!0,k(q)),d}return I.inherits(e,t),e.prototype.destroy=function(){for(var t=0;t<G.length;t++)if(G[t]===this)return void G.splice(t,1)},e}(S),N=void 0;t.ease=R,t.el=L,t.prefix=x,t.view=O,t.View=_,t.viewList=T,t.ViewList=F,t.Animation=K,t.Observable=S,t.each=m,t.extendable=b,t.shuffle=C,t.translate=M,t.baf=k,t.raf=A});